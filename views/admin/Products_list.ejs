<%- include('../layout/start') %>
  <section class="row w-100">
    <%- include('../layout/adminNavbar') %>


      <div class="container-fluid vw-100 col-10">
        <div class="container col-10 tm-mt-big tm-mb-big">
          <div class="row vh-100 bg-light ">
            <div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto  d-flex align-items-center ">
              <div class="tm-bg-primary-dark tm-block tm-block-h-auto  ">
                <div class="row">
                  <div class="col-12">
                    <h2 class=" pb-3 tm-block-title d-inline-block">add Product</h2>
                  </div>
                </div>
                <div style="height: 555px;" class=" row tm-edit-product-row  d-flex justify-content-center ">
                  <div class="col-xl-6 col-lg-6 col-md-12">
                    <!-- //////////form start/////////////////////////// -->
                    <form id="form" action="/admin/product-list" method="post" enctype="multipart/form-data"
                      class="tm-edit-product-form">
                      <div class="form-group mb-3">
                        <label for="name">Product Name
                        </label>
                        <input id="title" name="title" type="text" value="" class="form-control validate" />
                        <small class=" text-danger error"></small>
                      </div>
                      <div class="form-group mb-3">
                        <label for="description">Description</label>
                        <textarea id="description" name="description" class="form-control validate tm-small"
                          rows="5"></textarea>
                        <small class=" text-danger error"></small>
                      </div>
                      <div class="form-group mb-3">
                        <label for="category">Category</label>
                        <select class="custom-select tm-select-accounts" id="category" name="category">
                          <% for(let i=0;i<Data.length;i++){ %>
                            <option value="<%= Data[i].category %>">
                              <%= Data[i].category%>
                            </option>
                            <% } %>

                        </select>

                      </div>
                      <div class="row">
                        <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="expire_date">brand
                          </label>
                          <input id="brand" name="brand" type="text" value="" class="form-control validate"
                            data-large-mode="true" />
                          <small class=" text-danger error"></small>
                        </div>
                        <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="stock">Units In Stock
                          </label>
                          <input id="stock" name="stock" type="text" value="" class="form-control validate" />
                          <small class=" text-danger error"></small>
                        </div>
                        <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="stock">Price
                          </label>
                          <input id="price" name="price" type="text" value="" class="form-control validate" />
                          <small class=" text-danger error"></small>
                        </div>
                        <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="stock">discount
                          </label>
                          <input id="discount" name="discount" type="text" value="" class="form-control validate" />
                          <small class=" text-danger error"></small>
                        </div>
                      </div>


                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 mx-auto mb-4">
                    <div class="tm-product-img-edit mx-auto">
                      <!-- <img src="product" alt="Product image" class="img-fluid d-block mx-auto"> -->
                      <!-- <i
                      class="fas fa-cloud-upload-alt tm-upload-icon"
                      onclick="document.getElementById('fileInput').click();"
                    ></i> -->
                    </div>
                    <div class="custom-file mt-3 mb-3">
                      <input id="file" name="image" class="form-control" multiple id="fileInput" type="file" />
                      <small class=" text-danger error"></small>
                    </div>
                    <p class="p-0 m-0">SIZE</p>
                    <div>
                      <label class="p-3" for="">XS</label>
                      <input class="p-3" type="checkbox" name="size" value="xs">
                      <label class="p-3" for="">S</label>
                      <input class="p-3" type="checkbox" name="size" value="s">
                      <label class="p-3" for="">M</label>
                      <input class="p-3" type="checkbox" name="size" value="m">
                      <label class="p-3" for="">XL</label>
                      <input class="p-3" type="checkbox" name="size" value="xl">
                      <label class="p-3" for="">XXL</label>
                      <input class="p-3" type="checkbox" name="size" value="xxl">


                    </div>
                    <p class="p-0 m-0">COLOR</p>
                    <div class="d-flex">
                      <div style="width:40px;" class="  d-flex justify-content-between align-items-center">
                        <label class=" p-2 bg-success rounded-pill" for=""></label>
                        <input class=" mb-2 " type="checkbox" name="color" value="green">
                      </div>
                      <div style="width:40px;" class="ms-2 d-flex justify-content-between align-items-center">
                        <label class=" p-2 bg-danger rounded-pill" for=""></label>
                        <input class=" mb-2 " type="checkbox" name="color" value="red">
                      </div>
                      <div style="width:40px;" class="ms-2 d-flex justify-content-between align-items-center">
                        <label class=" p-2 bg-warning rounded-pill" for=""></label>
                        <input class=" mb-2 " type="checkbox" name="color" value="yellow">
                      </div>
                      <div style="width:40px;" class="ms-2 d-flex justify-content-between align-items-center">
                        <label class=" p-2 bg-dark rounded-pill" for=""></label>
                        <input class=" mb-2 " type="checkbox" name="color" value="black">
                      </div>
                      <div style="width:40px;" class="ms-2 d-flex justify-content-between align-items-center">
                        <label class=" p-2 bg-primary rounded-pill" for=""></label>
                        <input class=" mb-2 " type="checkbox" name="color" value="blue">
                      </div>
                    </div>

                  </div>
                  <div class=" p-0 m-0 " style="height: 30px;">
                    <button type="submit" class="btn btn-primary btn-block text-uppercase">Update Now</button>
                  </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
  </section>
  </section>
  <script>
    const form = document.getElementById('form')
    const tile = document.getElementById('title')
    const brand = document.getElementById('brand')
    const price = document.getElementById('price')
    const stock = document.getElementById('stock')
    const discount = document.getElementById('discount')
    const discription = document.getElementById('description')
    const file = document.getElementById('file')

    const seterror = (element, message) => {
      const inputControll = element.parentElement;
      const errorDisplay = inputControll.querySelector('.error')

      errorDisplay.innerText = message
      inputControll.classList.add('error')
      inputControll.classList.remove('success')
    }
    const setSuccess = (element) => {
      const inputControll = element.parentElement;
      const errorDisplay = inputControll.querySelector('.error')

      errorDisplay.innerText = ''
      inputControll.classList.remove('success')
      inputControll.classList.add('error')
    }
    form.addEventListener('submit', e => {
      console.log('hallo');
      const productTitle = tile.value.trim()
      const productBrand = brand.value.trim()
      const productPrice = price.value.trim()
      const productstock = stock.value.trim()
      const productDiscount = discount.value.trim()
      const productDiscription = discription.value.trim()
      const productfile = file.value.trim()
      console.log(productBrand, productDiscount, productPrice, productTitle, productfile);
      ////TITLE///
      if (productTitle == '') {
        seterror(tile, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(tile)
      }
      //////SROCK/////
      if (productstock == '') {
        seterror(stock, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(stock)
      }
      /////BRAND////
      if (productBrand == '') {
        seterror(brand, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(brand)
      }
      ////////PRICE/////
      if (productPrice == '') {
        seterror(price, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(price)
      }
      ///////DISCOUNT////
      if (productDiscount == '') {
        seterror(discount, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(discount)
      }
      /////DISCRIPTION/////
      if (productDiscription == '') {
        seterror(discription, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(discription)
      }
      /////
      if (productfile == '') {
        seterror(file, 'This field requred')
        e.preventDefault()
      } else {
        setSuccess(file)
      }
    })
  </script>
  <%- include('../layout/end') %>